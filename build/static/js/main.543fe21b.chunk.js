(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){},42:function(e,t,n){e.exports=n(76)},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),l=(n(27),n(6)),s=n(7),i=n(9),u=n(8),d=n(10),m=n(16),p=n(2),h="/",f=n(4),g=n(5);function b(){var e=Object(f.a)(["\ncolor: #FFFFFF;\nbackground-color: #FF009D;\npadding: 30px;\nheight: 225px;\n\n\n.selected {\n    color: white;\n  }\n\n  a {\n    margin: 20px 10px;\n  }\n\n  a:link, a:visited {\n    background-color: #FFED03;\n    color: black;\n    padding: 14px 25px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n\n  }\n  \n  a:hover, a:active {\n    background-color: #FF009D;\n    color: white;\n    border-bottom: 2px solid yellow;\n\n  }\n\n  img {\n    vertical-align: middle;\n  }\n"]);return b=function(){return e},e}var v=g.a.div(b()),E=function(e){var t=e.currentUser,n=e.doLogout;return r.a.createElement(v,null,r.a.createElement("h1",null,"LA Taco Crawl ",r.a.createElement("img",{src:"../images/tacos.png",width:"80px"})),r.a.createElement(p.c,{to:h,activeClassName:"selected"},"Home"),t&&r.a.createElement(p.c,{exact:!0,to:"".concat("/users","/").concat(t._id),activeClassName:"selected"},t.username,"'s Profile "),r.a.createElement(p.c,{to:"/locations",activeClassName:"selected"},"Crawl"),t?r.a.createElement(p.c,{key:1,to:h,onClick:n},"Logout"):[r.a.createElement(p.c,{key:2,to:"/register",activeClassName:"selected"},"Register "),r.a.createElement(p.c,{key:3,to:"/login",activeClassName:"selected"},"Login ")])},w=n(1),y=n.n(w),x=n(11),j=n(15);function C(){var e=Object(f.a)(["\n  width: 50%;\n  text-align: center;\n  border: 1px black solid;\n  font-family: 'Montserrat', sans-serif;\n  font-size: 16px;\n  background: white;\n  margin: 10px;\n"]);return C=function(){return e},e}var O=g.a.input(C());function k(){var e=Object(f.a)(["\n  width: 25%;\n  text-align: center;\n  border: 1px black solid;\n  font-family: 'Montserrat', sans-serif;\n  font-size: 16px;\n  background: white;\n  margin: 10px;\n"]);return k=function(){return e},e}var S=g.a.button(k()),U=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",logged:!1},n.changeHandler=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=Object(x.a)(y.a.mark(function e(t){var a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/users/login",{method:"POST",credentials:"include",body:JSON.stringify(n.state),headers:{"Content-type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:(r=e.sent).success&&(n.props.doSetCurrentUser(r.user),n.setState({logged:!0}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return this.state.logged?r.a.createElement(m.a,{to:"/users/".concat(this.props.currentUser._id)}):r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(O,{type:"text",name:"username",value:t,onChange:this.changeHandler,placeholder:"username"}),r.a.createElement(O,{type:"password",name:"password",value:n,onChange:this.changeHandler,placeholder:"password"}),r.a.createElement(S,{type:"submit"},"Submit"))}}]),t}(a.Component);function F(){var e=Object(f.a)(["\n    font-family: 'Raleway', sans-serif;\n    font-size: 100px;\n    color: #FF009D;\n    line-height: 0.8;\n    "]);return F=function(){return e},e}var T=g.a.h1(F());function N(){var e=Object(f.a)(["\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\nalign-content: center;\nwidth: 50vw;\njustify-content: space-between;\nmargin: 15vh 49vw;\n\n.pMain {\n    font-size: 28px;\n    margin: 0 2vw;\n    padding: 2vw;\n}\n\n.spanHighlight {\n    background-color: #FFED03;\n}\n"]);return N=function(){return e},e}var D=g.a.div(N());function H(){var e=Object(f.a)(["\n  width: 25%;\n  text-align: center;\n  border:none;\n  font-family: 'Montserrat', sans-serif;\n  font-size: 18px;\n  background: white;\n  margin: 10px;\n\n  a:link, a:visited {\n    background-color: #FFED03;\n    color: black;\n    padding: 14px 25px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n\n  }\n  \n  a:hover, a:active {\n    background-color: #FF009D;\n    color: white;\n    border-bottom: 2px solid yellow;\n\n  }\n"]);return H=function(){return e},e}var L=g.a.button(H()),A=Object(m.f)(function(){return r.a.createElement(D,null,r.a.createElement("div",null," ",r.a.createElement(T,null,"Taco Crawl?")," "),r.a.createElement("div",null,r.a.createElement("p",{className:"pMain"},"When individuals go ",r.a.createElement("span",{className:"spanHighlight"},"eating tacos from place to place.")," Usually they eat so much at the first few places that by the time they get to the last one they're ",r.a.createElement("span",{className:"spanHighlight"},"crawling from eating and drinking so much.")),r.a.createElement("br",null),r.a.createElement(L,null,r.a.createElement(p.c,{to:"/locations",activeClassName:"selected"},"Let's Crawl!"))))}),M=n(39),z=Object(m.f)(function(e){return r.a.createElement("div",null,r.a.createElement("h4",null," Edit User"),r.a.createElement("form",{onSubmit:function(){e.editUser()}},r.a.createElement("label",null,"user name: ",r.a.createElement(O,{type:"text",name:"username",onChange:e.handleFormChange,value:e.userToEdit.username,placeholder:"username"}),r.a.createElement("br",null),"password: ",r.a.createElement(O,{type:"password",name:"password",onChange:e.handleFormChange,value:e.userToEdit.password,placeholder:"password"}),r.a.createElement("br",null),"email: ",r.a.createElement(O,{type:"text",name:"email",onChange:e.handleFormChange,value:e.userToEdit.email,placeholder:"email"}),r.a.createElement("br",null)),r.a.createElement(O,{type:"Submit"})))}),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},locations:[],userToEdit:{username:"",password:"",email:""}},n.doGetUser=Object(x.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/".concat(n.props.match.params.id));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),n.doDeleteLocation=function(){var e=Object(x.a)(y.a.mark(function e(t,a){var r,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/".concat(n.props.match.params.id,"/locations/").concat(t),{method:"DELETE"});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,n.setState({user:o.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0,"error");case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}(),n.editUser=Object(x.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/update/".concat(n.props.match.params.id),{method:"PUT",credentials:"include",body:JSON.stringify(n.state.userToEdit),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,console.log(t),e.next=7,t.json();case 7:a=e.sent,console.log(a),n.setState({user:a},function(){n.props.doSetCurrentUser(a)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),n.handleFormChange=function(e){n.setState({userToEdit:Object(M.a)({},n.state.userToEdit,Object(j.a)({},e.target.name,e.target.value))}),console.log(n.state.userToEdit)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.doGetUser().then(function(t){var n=t.user;return e.setState({user:n})})}},{key:"render",value:function(){var e=this;return console.log(this.state.user),r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, ",this.state.user.username),this.state.user.locations&&this.state.user.locations.map(function(t,n){return r.a.createElement("li",null,r.a.createElement(p.b,{to:"/locations/".concat(t.id)},t.name),r.a.createElement("button",{onClick:function(){return e.doDeleteLocation(t.id)}},"Delete"))}),r.a.createElement(z,{editUser:this.editUser,handleFormChange:this.handleFormChange,userToEdit:this.state.userToEdit}))}}]),t}(a.Component),J=Object(m.f)(P),_=n(40),B=n.n(_),R=function(e){var t=e.image;return r.a.createElement("div",null,r.a.createElement("img",{className:"pin",src:t}))},I=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.random),r.a.createElement("div",null,r.a.createElement("h1",null,"Map Container"),r.a.createElement("div",{style:{height:"50vh",width:"90%"}},r.a.createElement(B.a,{bootstrapURLKeys:{key:"AIzaSyBHLett8djBo62dDXj0EjCimF8Rd6E8cxg"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},this.props.random.map(function(e,t){return r.a.createElement(R,{key:t,lat:e.coordinates.latitude,lng:e.coordinates.longitude,image:"../images/pin.png"})}))))}}]),t}(a.Component);I.defaultProps={center:{lat:34.05,lng:-118.21},zoom:11};var W=I;function G(){var e=Object(f.a)(["\ndisplay: flex;\nflex-direction: column;\nmargin: 0 auto;\npadding: 25px;\nwidth: 75vw;\nbackground-color: #ffffffa6;\n\n.pMain {\n    font-size: 25px;\n    margin: 0 2vw;\n    padding: 2vw;\n}\n\n.spanHighlight {\n    background-color: #FFED03;\n}\n\nli {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n"]);return G=function(){return e},e}var K=g.a.div(G()),X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={locations:[],randomCrawl:[],location:""},n.getLocations=Object(x.a)(y.a.mark(function e(){var t,a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/",{method:"POST",credentials:"include",body:JSON.stringify({location:"".concat(n.state.location)}),headers:{"Content-type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,console.log(a),e.next=10,n.shuffleArray(a.data);case 10:r=e.sent,n.setState({locations:a.data,randomCrawl:r}),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,14]])})),n.doAddCrawl=function(){var e=Object(x.a)(y.a.mark(function e(t,a,r){var o,c,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.currentUser,e.next=3,fetch("/locations",{method:"POST",credentials:"include",body:JSON.stringify({id:t,name:a,url:r,currentUser:o}),headers:{"Content-type":"application/json"}});case 3:return c=e.sent,e.next=6,c.json();case 6:l=e.sent,n.props.doSetCurrentUser(l.user);case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),n.addAllCrawl=function(){var e=Object(x.a)(y.a.mark(function e(t){var a,r,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("button clicked"),a=n.props.currentUser,e.next=4,fetch("/locations/crawl",{method:"POST",credentials:"include",body:JSON.stringify({randomCrawl:t,currentUser:a}),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,n.props.doSetCurrentUser(o.user);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(j.a)({},e.currentTarget.name,e.currentTarget.value))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getLocations()}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e.slice(0,5)}},{key:"render",value:function(){var e=this,t=this.state.randomCrawl,n=this.state.location;return r.a.createElement(K,null,r.a.createElement("form",null,r.a.createElement("label",null,"Enter Location ",r.a.createElement(O,{type:"text",name:"location",onChange:this.handleChange,value:n})),r.a.createElement(O,{type:"Submit"})),r.a.createElement("div",null,this.props.currentUser?r.a.createElement("button",{onClick:function(){return e.addAllCrawl(t)}},"Add Crawl"):r.a.createElement("h3",null,r.a.createElement("span",{className:"spanHighlight"},"log-in to add a crawl")),r.a.createElement("h1",null,"East LA Taco Crawl"),t.map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("a",{href:t.url},t.name),r.a.createElement("br",null),r.a.createElement("img",{src:t.image_url,width:"100px"}),r.a.createElement("br",null),t.location.display_address," ",r.a.createElement("br",null),r.a.createElement("h3",null,"rating: ",r.a.createElement("span",{className:"spanHighlight"},t.rating)," Review Count: ",r.a.createElement("span",{className:"spanHighlight"},t.review_count)),r.a.createElement("br",null),e.props.currentUser&&!e.props.currentUser.locations.some(function(e){return e.id===t.id})&&r.a.createElement("button",{onClick:function(){return e.doAddCrawl(t.id,t.name)}},"Add"))})),r.a.createElement("div",null,r.a.createElement(W,{random:t})))}}]),t}(a.Component),Z=Object(m.f)(X),$=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",logged:!1},n.changeHandler=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=Object(x.a)(y.a.mark(function e(t){var a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/users",{method:"POST",credentials:"include",body:JSON.stringify(n.state),headers:{"Content-type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log(r),r.user&&(n.props.doSetCurrentUser(r.user),n.setState({logged:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email;return r.a.createElement("div",null,this.state.logged?r.a.createElement(m.a,{to:"/users/".concat(this.props.currentUser._id)}):r.a.createElement(q,{changeHandler:this.changeHandler,onSubmit:this.onSubmit,username:t,password:n,email:a}))}}]),t}(a.Component),q=function(e){var t=e.changeHandler,n=e.onSubmit,a=e.username,o=e.password,c=e.email;return r.a.createElement("form",{onSubmit:function(e){return n(e)}},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(O,{onChange:function(e){return t(e)},type:"text",name:"username",placeholder:"username",value:a}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(O,{onChange:function(e){return t(e)},type:"password",name:"password",placeholder:"password",value:o}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Email"),r.a.createElement(O,{onChange:function(e){return t(e)},type:"text",name:"email",placeholder:"email",value:c}),r.a.createElement("br",null),r.a.createElement(S,{type:"submit"},"SUBMIT"))},Q=$,V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},n.doSetCurrentUser=function(e){return n.setState({currentUser:e})},n.doLogout=function(){n.setState({currentUser:null}),n.props.history.push(h)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return r.a.createElement("div",null,r.a.createElement("h1",null,"hello"),r.a.createElement(E,{currentUser:t,doLogout:this.doLogout}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:h,render:function(){return r.a.createElement(A,null)}}),r.a.createElement(m.b,{exact:!0,path:"/locations",render:function(){return r.a.createElement(Z,{currentUser:t,doSetCurrentUser:e.doSetCurrentUser})}}),r.a.createElement(m.b,{exact:!0,path:"".concat("/users","/:id"),render:function(){return r.a.createElement(J,{currentUser:t,doSetCurrentUser:e.doSetCurrentUser})}}),r.a.createElement(m.b,{exact:!0,path:"/register",render:function(){return r.a.createElement(Q,{currentUser:e.state.currentUser,doSetCurrentUser:e.doSetCurrentUser})}}),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(U,{currentUser:t,doSetCurrentUser:e.doSetCurrentUser})}}),r.a.createElement(m.b,{render:function(){return r.a.createElement("div",null,"NOT FOUND")}})))}}]),t}(a.Component),Y=Object(m.f)(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(p.a,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.543fe21b.chunk.js.map